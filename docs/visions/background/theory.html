<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Theory &mdash; visions 0.7.4 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Nested set view" href="nested_set_view.html" />
    <link rel="prev" title="Background" href="background.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> visions
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/extending.html">Extending</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/testing.html">Typeset testing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../applications/applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/summarizer.html">Data Summarization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/validation.html">Data Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/machine_learning.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/compression.html">Data Compression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/integration.html">Data Discovery and Data Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/users.html">Users</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contribution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/contributing.html">Community contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/type.html">Contributions new types to visions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Background</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="background.html">Background</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Theory</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#background">Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="#open-challenges">Open Challenges</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-visions-solution">The <code class="docutils literal notranslate"><span class="pre">visions</span></code> Solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="#why-it-works">Why it works</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nested_set_view.html">Nested set view</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph_view.html">Graph view</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">visions</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Theory</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/visions/background/theory.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="theory">
<h1>Theory<a class="headerlink" href="#theory" title="Permalink to this headline"></a></h1>
<section id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">visions</span></code> primary goal is to develop a robust mechanism for defining and using
<em>semantic</em> data types. These represent conceptual or logical notions of meaning
and is distinct from the machine representation of data on disk. For example,
we might say sequence <span class="math notranslate nohighlight">\(S\)</span> is of semantic type <code class="docutils literal notranslate"><span class="pre">probability</span></code> when
<span class="math notranslate nohighlight">\(S \in [0, 1]\)</span> or <code class="docutils literal notranslate"><span class="pre">date</span></code> when each element is stored on the computer as a
<code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> object with all time components identically <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>Most data analytics libraries users are already familiar with have their own data
types builtin, usually tightly coupled with the machine representation of the data
used by the library. We wanted to give users as much flexibility to design and work
in the representations specific to their problems and domain and in order to do that
we had to give users the freedom to make their own types. This left a few key
challenges to solve.</p>
</section>
<section id="open-challenges">
<h2>Open Challenges<a class="headerlink" href="#open-challenges" title="Permalink to this headline"></a></h2>
<ol class="arabic simple">
<li><p>Finding a minimal representation of semantic types</p></li>
<li><p>Detecting the semantic type of a sequence</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">visions</span></code> is interested in the semantic meaning of data and therefore should be able to infer the “intended” type of a sequence regardless of it’s machine representation (e.g. the string <code class="docutils literal notranslate"><span class="pre">'1.0'</span></code> should be recognized as the number <code class="docutils literal notranslate"><span class="pre">1</span></code>).</p></li>
</ol>
<p>We want to do all of this while keeping types easy to use, performant, and deterministic.</p>
<p>Since users are free to imagine any possible type, different problem domains might
require contradictory notions of the same type. Where a data scientist might be
interested in probability as a sequence of values bounded such that <span class="math notranslate nohighlight">\(x \in [0, 1]\)</span>,
a business analyst might instead be interested in a definition where  <span class="math notranslate nohighlight">\(x \in [0, 100]\)</span>.</p>
</section>
<section id="the-visions-solution">
<h2>The <code class="docutils literal notranslate"><span class="pre">visions</span></code> Solution<a class="headerlink" href="#the-visions-solution" title="Permalink to this headline"></a></h2>
<p>We solve all of these problems by introducing three conceptual ideas, <code class="docutils literal notranslate"><span class="pre">visions</span></code>
types, typesets, and relations.</p>
<p>A <em>type</em> at minimum requires only a single validation function which takes as its
argument a sequence and tests whether the input is of its type or not, returning
boolean. It optionally can contain relationships which we will describe in a moment.</p>
<p>A <em>typeset</em> is a collection of types. Behind the scenes visions uses the relationships
defined on each type in the typeset to construct a relationship graph. When properly
constructed this graph can be used to deterministically detect the current semantic types
of a sequence (or dataset) or to infer a more representative type for the data.</p>
<p>A <em>relation</em> object is responsible for mapping sequences between <code class="docutils literal notranslate"><span class="pre">visions</span></code> types.
Each relation is composed of two functions, the first validates whether a
mapping can be performed without loss of precision (i.e. ‘1.0’ can be cast to
integer while 1.1 cannot), the second is a surjective function responsible for
actually performing the mapping.</p>
<p>In practice, we distinguish <code class="docutils literal notranslate"><span class="pre">relations</span></code> into two categories as well, the first
called <code class="docutils literal notranslate"><span class="pre">Identity</span> <span class="pre">Relations</span></code> require no transformation to the underlying machine
type of the data (float(1.1) -&gt; probability(1.1) where the second, <code class="docutils literal notranslate"><span class="pre">Inference</span> <span class="pre">Relations</span></code>,
have to coerce the sequence between machine types (‘1.1’ -&gt; 1.1).</p>
</section>
<section id="why-it-works">
<h2>Why it works<a class="headerlink" href="#why-it-works" title="Permalink to this headline"></a></h2>
<p>We will be using the language of trees and sets to understand how this all comes together
and start by defining a semantic type as the set of all sequences with some
consistent semantic meaning. A typeset is then a directed rooted tree whose nodes
are types with the root defined as the generic type associated with the universal set.</p>
<p>Relations are directed edges between two nodes (types) in a relation graph (typeset).
They are also defined on types such that a relation between types <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code>,
<code class="docutils literal notranslate"><span class="pre">Relation(A</span> <span class="pre">-&gt;</span> <span class="pre">B)</span></code>, would be defined as an attribute of B. In order words, they
are mappings <em>to</em> a type, not <em>from</em>.</p>
<p>Following this, we can construct a relation graph from <em>any</em> collection of provided
types and associated relations. We define our dual objective of type detection and
type inference as the task of determining the most unique possible type
specification available to the typeset either with coercion of machine types (inference),
or without (detection).</p>
<p>Both tasks are akin to simple traversal of the relation graph. In order to guarantee
all sequences map to only a single type we require the graph be <em>decidable</em>.
This is equivalent to saying sets of any two pairs of data types with the same
parent must be disjoint, except for the missing value indicator. Additionally,
relations are not permitted to introduce cycles into the tree.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="background.html" class="btn btn-neutral float-left" title="Background" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="nested_set_view.html" class="btn btn-neutral float-right" title="Nested set view" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Ian Eaves and Simon Brugman.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>